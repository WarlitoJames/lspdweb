<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MDT â€” Los Santos</title>
<!-- Inter for body readability, Orbitron for headers/codes, JetBrains Mono for mono -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
<style>
/* â”€â”€ PERFORMANCE: GPU layers on animated elements only â”€â”€ */
:root{
  --lspd-p:#1a4fa0;--lspd-a:#4d9fff;--lspd-g:rgba(77,159,255,.22);--lspd-b:#1e5cbf;
  --lssd-p:#7a4f00;--lssd-a:#e09020;--lssd-g:rgba(224,144,32,.22);--lssd-b:#a06a00;
  --bg:#07090e;--s1:#0d1117;--s2:#111827;--s3:#1a2235;
  --tx:#dde8f8;--tx2:#8ca0be;--tx3:#4a6080;
  --red:#ff4444;--red2:#ff8080;--green:#22dd6a;--green2:#80ffb8;--yellow:#f0c040;--yellow2:#ffe080;
  --dp:var(--lspd-a);--dpb:var(--lspd-b);--dpg:var(--lspd-g);--dpp:var(--lspd-p);
}
*{box-sizing:border-box;margin:0;padding:0;}
html,body{height:100%;overflow:hidden;}
body{
  font-family:'Inter',sans-serif;
  background:var(--bg);
  color:var(--tx);
  display:flex;flex-direction:column;
  /* Use GPU composite for the whole page */
  transform:translateZ(0);
}

/* â”€â”€ SCANLINE: CSS only, no JS, GPU layer â”€â”€ */
body::after{
  content:'';
  position:fixed;inset:0;
  background:repeating-linear-gradient(0deg,transparent,transparent 3px,rgba(0,0,0,.06) 3px,rgba(0,0,0,.06) 4px);
  pointer-events:none;
  z-index:9000;
  will-change:transform; /* own composite layer */
  transform:translateZ(0);
}

/* â•â• LOGIN â•â• */
#loginScreen{
  position:fixed;inset:0;background:var(--bg);z-index:8000;
  display:flex;align-items:center;justify-content:center;
}
.l-glow{
  position:absolute;
  width:500px;height:500px;border-radius:50%;
  background:var(--dpg);
  filter:blur(90px);
  pointer-events:none;
  will-change:opacity;
  transform:translateZ(0);
}
.l-box{
  position:relative;
  background:var(--s1);
  border:1px solid var(--dpb);
  border-radius:6px;
  padding:36px 36px 28px;
  width:400px;
  box-shadow:0 0 0 1px rgba(0,0,0,.4),0 24px 60px rgba(0,0,0,.6);
}
.l-box::before{
  content:'';position:absolute;top:0;left:10%;right:10%;height:2px;
  background:linear-gradient(90deg,transparent,var(--dp),transparent);
  border-radius:2px;
}
.l-logo{text-align:center;margin-bottom:20px;}
.l-ico{
  width:56px;height:56px;border-radius:50%;
  background:var(--dpp);border:2px solid var(--dp);
  display:inline-flex;align-items:center;justify-content:center;
  font-family:'Orbitron',sans-serif;font-weight:900;font-size:12px;color:#fff;
  margin-bottom:10px;
  box-shadow:0 0 0 4px var(--dpg);
}
.l-title{font-family:'Orbitron',sans-serif;font-size:16px;font-weight:900;color:var(--dp);letter-spacing:4px;}
.l-sub{font-family:'JetBrains Mono',monospace;font-size:9px;color:var(--tx3);letter-spacing:2px;margin-top:3px;}

.d-toggle{display:flex;border:1px solid var(--dpb);border-radius:4px;overflow:hidden;margin-bottom:20px;}
.d-toggle button{
  flex:1;padding:9px;border:none;background:transparent;
  color:var(--tx2);
  font-family:'Inter',sans-serif;font-size:12px;font-weight:700;
  cursor:pointer;
  /* No CSS transition on toggle - instant dept switch */
}
.d-toggle button:hover{background:var(--s2);}
.dt-lspd{background:var(--lspd-p)!important;color:var(--lspd-a)!important;}
.dt-lssd{background:var(--lssd-p)!important;color:var(--lssd-a)!important;}

.l-field{margin-bottom:12px;}
.l-field label{display:block;font-family:'JetBrains Mono',monospace;font-size:9px;font-weight:600;color:var(--tx2);letter-spacing:2px;margin-bottom:5px;text-transform:uppercase;}
.l-field input{
  width:100%;background:var(--s2);
  border:1px solid var(--dpb);color:var(--tx);
  font-family:'Inter',sans-serif;font-size:14px;font-weight:500;
  padding:10px 12px;outline:none;border-radius:4px;
}
.l-field input:focus{border-color:var(--dp);box-shadow:0 0 0 3px var(--dpg);}
.l-field input::placeholder{color:var(--tx3);}
.l-btn{
  width:100%;padding:11px;
  background:var(--dpp);border:1px solid var(--dp);
  color:#fff;font-family:'Inter',sans-serif;font-size:13px;font-weight:700;
  letter-spacing:2px;cursor:pointer;border-radius:4px;margin-top:4px;
  transition:background .15s,box-shadow .15s;
}
.l-btn:hover{background:var(--dp);box-shadow:0 0 20px var(--dpg);}
.l-err{text-align:center;font-family:'Inter',sans-serif;font-size:12px;font-weight:600;color:var(--red2);margin-top:8px;min-height:16px;}
.l-hint{
  text-align:center;font-family:'JetBrains Mono',monospace;font-size:10px;color:var(--tx3);
  margin-top:14px;border-top:1px solid var(--s3);padding-top:12px;line-height:1.8;
}
.l-hint b{color:var(--dp);font-weight:600;}

/* â•â• TOPBAR â•â• */
.topbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:0 16px;height:48px;
  background:var(--s1);
  border-bottom:1px solid var(--dpb);
  flex-shrink:0;
  position:relative;
  /* No box-shadow animate - static shadow only */
  box-shadow:0 1px 0 var(--dpb),0 4px 20px rgba(0,0,0,.5);
}
/* Thin accent line â€” CSS animation on transform, GPU âœ“ */
.topbar::after{
  content:'';
  position:absolute;bottom:-1px;left:0;right:0;height:1px;
  background:linear-gradient(90deg,transparent 0%,var(--dp) 50%,transparent 100%);
  background-size:200% 100%;
  will-change:background-position;
  transform:translateZ(0);
  animation:scanH 4s linear infinite;
}
@keyframes scanH{0%{background-position:200% 0}100%{background-position:-200% 0}}

.logo{display:flex;align-items:center;gap:10px;}
.logo-badge{
  width:32px;height:32px;border-radius:50%;
  background:var(--dpp);border:2px solid var(--dp);
  display:flex;align-items:center;justify-content:center;
  font-family:'Orbitron',sans-serif;font-weight:900;font-size:8px;color:#fff;
  flex-shrink:0;
}
.logo-text{font-family:'Orbitron',sans-serif;font-size:12px;font-weight:700;color:var(--dp);letter-spacing:3px;}
.logo-sub{font-family:'JetBrains Mono',monospace;font-size:8px;color:var(--tx3);letter-spacing:1px;margin-top:1px;}
#clock{font-family:'JetBrains Mono',monospace;font-size:18px;font-weight:600;color:var(--dp);text-align:center;line-height:1;}
.clock-sub{font-family:'Inter',sans-serif;font-size:9px;font-weight:500;color:var(--tx3);text-align:center;letter-spacing:1px;margin-top:1px;}
.off-info{font-family:'Inter',sans-serif;font-size:11px;font-weight:500;color:var(--tx2);text-align:right;}
.off-info b{color:var(--dp);font-weight:700;}
.logout-btn{
  margin-left:10px;padding:4px 10px;
  border:1px solid var(--tx3);background:transparent;
  color:var(--tx2);font-family:'Inter',sans-serif;font-size:11px;font-weight:600;
  cursor:pointer;border-radius:3px;
  transition:border-color .15s,color .15s;
}
.logout-btn:hover{border-color:var(--red);color:var(--red2);}

/* â•â• LAYOUT â•â• */
.main{display:flex;flex:1;overflow:hidden;}

.sidebar{
  width:172px;background:var(--s1);
  border-right:1px solid var(--dpb);
  display:flex;flex-direction:column;
  padding:8px 6px;gap:1px;
  flex-shrink:0;
  overflow:hidden;
}
.nav-sep{
  font-family:'JetBrains Mono',monospace;font-size:8px;font-weight:600;
  color:var(--tx3);letter-spacing:2px;
  padding:8px 10px 4px;
  border-bottom:1px solid var(--s3);
  margin-bottom:1px;
  text-transform:uppercase;
}
.nav-btn{
  display:flex;align-items:center;gap:8px;
  padding:8px 10px;border:none;background:transparent;
  color:var(--tx2);
  font-family:'Inter',sans-serif;font-size:13px;font-weight:600;
  cursor:pointer;border-radius:4px;
  text-align:left;width:100%;
  border-left:2px solid transparent;
  /* Only transition color/bg - GPU friendly */
  transition:background .1s,color .1s,border-left-color .1s;
  will-change:background-color;
}
.nav-btn:hover{background:var(--s2);color:var(--tx);}
.nav-btn.active{
  background:var(--s2);color:var(--dp);
  border-left-color:var(--dp);
}
.nav-icon{font-size:14px;width:16px;text-align:center;flex-shrink:0;}

/* â•â• CONTENT â•â• */
.content{
  flex:1;overflow-y:auto;
  padding:16px 18px;
  display:none;
  /* Smooth scroll GPU */
  -webkit-overflow-scrolling:touch;
  scroll-behavior:auto; /* no JS scroll delay */
}
.content.active{display:block;}
.content::-webkit-scrollbar{width:5px;}
.content::-webkit-scrollbar-thumb{background:var(--s3);border-radius:3px;}
.content::-webkit-scrollbar-track{background:transparent;}

/* Section title */
.st{
  font-family:'Orbitron',sans-serif;font-size:11px;font-weight:700;
  color:var(--dp);letter-spacing:3px;
  margin-bottom:12px;
  display:flex;align-items:center;gap:10px;
}
.st::after{content:'';flex:1;height:1px;background:linear-gradient(90deg,var(--dpb),transparent);}

/* Search row */
.sr{display:flex;gap:6px;margin-bottom:12px;}
.si{
  flex:1;background:var(--s2);
  border:1px solid var(--dpb);color:var(--tx);
  font-family:'Inter',sans-serif;font-size:13px;font-weight:400;
  padding:8px 12px;outline:none;border-radius:4px;
}
.si:focus{border-color:var(--dp);box-shadow:0 0 0 3px var(--dpg);}
.si::placeholder{color:var(--tx3);}

/* Buttons */
.btn{
  padding:8px 14px;
  background:var(--dpp);border:1px solid var(--dp);
  color:#fff;font-family:'Inter',sans-serif;font-size:11px;font-weight:700;
  cursor:pointer;border-radius:4px;
  white-space:nowrap;
  transition:background .1s;
}
.btn:hover{background:var(--dp);}
.btn-sm{padding:4px 9px;font-size:10px;}
.btn-danger{background:#3a0808;border-color:var(--red);color:var(--red2);}
.btn-danger:hover{background:var(--red);color:#fff;}
.btn-success{background:#083a18;border-color:var(--green);color:var(--green2);}
.btn-success:hover{background:var(--green);color:#000;}

/* Cards */
.card{
  background:var(--s2);
  border:1px solid var(--dpb);
  border-left:3px solid var(--dp);
  border-radius:4px;padding:13px;margin-bottom:8px;
  transition:border-color .1s;
}
.card:hover{border-color:var(--dp);}

/* Grids */
.g2{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
.g3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;}

/* Stat boxes */
.sb{
  background:var(--s2);border:1px solid var(--dpb);border-radius:4px;
  padding:14px;text-align:center;position:relative;overflow:hidden;
}
.sb::after{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;background:var(--dp);}
.sb-n{font-family:'Orbitron',sans-serif;font-size:30px;font-weight:900;color:var(--dp);line-height:1;margin-bottom:4px;}
.sb-l{font-family:'JetBrains Mono',monospace;font-size:9px;font-weight:600;color:var(--tx2);letter-spacing:2px;}

/* Table */
.mt{width:100%;border-collapse:collapse;}
.mt th{
  font-family:'JetBrains Mono',monospace;font-size:9px;font-weight:600;
  color:var(--tx2);letter-spacing:1.5px;
  padding:7px 10px;text-align:left;
  border-bottom:1px solid var(--dpb);
  background:var(--s1);
  text-transform:uppercase;
}
.mt td{
  padding:8px 10px;border-bottom:1px solid var(--s3);
  font-family:'Inter',sans-serif;font-size:12px;font-weight:500;color:var(--tx);
}
.mt tr:hover td{background:var(--s3);}
.mt tr:last-child td{border-bottom:none;}

/* Tags */
.tag{
  display:inline-flex;align-items:center;
  padding:2px 8px;border-radius:3px;
  font-family:'Inter',sans-serif;font-size:10px;font-weight:700;
  letter-spacing:.5px;
}
.t-w{background:rgba(255,68,68,.15);border:1px solid rgba(255,68,68,.5);color:var(--red2);}
.t-c{background:rgba(34,221,106,.12);border:1px solid rgba(34,221,106,.4);color:var(--green2);}
.t-ca{background:rgba(240,192,64,.12);border:1px solid rgba(240,192,64,.4);color:var(--yellow2);}
.t-ar{background:rgba(255,140,0,.15);border:1px solid rgba(255,140,0,.5);color:#ffb060;}

/* Severity */
.sv{
  display:inline-flex;align-items:center;padding:2px 7px;border-radius:3px;
  font-family:'Inter',sans-serif;font-size:9px;font-weight:800;letter-spacing:.5px;
}
.s1{background:rgba(34,221,106,.15);border:1px solid rgba(34,221,106,.4);color:var(--green2);}
.s2{background:rgba(240,192,64,.15);border:1px solid rgba(240,192,64,.4);color:var(--yellow2);}
.s3{background:rgba(255,140,0,.15);border:1px solid rgba(255,140,0,.5);color:#ffb060;}
.s4{background:rgba(255,68,68,.15);border:1px solid rgba(255,68,68,.5);color:var(--red2);}

/* Forms */
.fr{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px;}
.fg{display:flex;flex-direction:column;gap:4px;}
.fl{font-family:'JetBrains Mono',monospace;font-size:9px;font-weight:600;color:var(--tx2);letter-spacing:2px;text-transform:uppercase;}
.fi,.fs,.fta{
  background:var(--s1);border:1px solid var(--dpb);color:var(--tx);
  font-family:'Inter',sans-serif;font-size:13px;font-weight:400;
  padding:8px 10px;outline:none;border-radius:4px;
}
.fi:focus,.fs:focus,.fta:focus{border-color:var(--dp);box-shadow:0 0 0 3px var(--dpg);}
.fta{resize:vertical;min-height:65px;}
.fs option,.fs optgroup{background:var(--s1);color:var(--tx);}

/* Alert */
.alert-bar{
  background:rgba(255,68,68,.1);
  border:1px solid rgba(255,68,68,.4);
  border-left:3px solid var(--red);
  border-radius:4px;
  padding:9px 13px;margin-bottom:11px;
  display:flex;align-items:center;gap:9px;
  font-family:'Inter',sans-serif;font-size:12px;font-weight:600;color:var(--red2);
}
.blink{animation:blink .9s step-end infinite;will-change:opacity;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}

/* Person card */
.pc{display:flex;gap:12px;align-items:flex-start;}
.pav{
  width:52px;height:52px;border-radius:6px;
  background:var(--s1);border:1px solid var(--dpb);
  display:flex;align-items:center;justify-content:center;
  font-size:24px;flex-shrink:0;
}
.pn{font-family:'Inter',sans-serif;font-size:14px;font-weight:700;color:var(--tx);margin-bottom:5px;}
.mi{font-family:'Inter',sans-serif;font-size:11px;font-weight:500;color:var(--tx2);}
.mi b{color:var(--tx);font-weight:600;}

/* Plate */
.plate{
  background:#fffff4;color:#111;
  font-family:'Orbitron',sans-serif;font-size:13px;font-weight:900;
  padding:5px 11px;border-radius:4px;letter-spacing:3px;
  border:2px solid #bbb;min-width:82px;text-align:center;flex-shrink:0;
}

/* Officer card */
.oc{
  display:flex;align-items:center;gap:10px;
  padding:10px 12px;background:var(--s2);
  border:1px solid var(--dpb);border-radius:4px;margin-bottom:6px;
}
.bn{font-family:'Orbitron',sans-serif;font-size:17px;font-weight:900;color:var(--dp);min-width:44px;text-align:center;}
.on{font-family:'Inter',sans-serif;font-weight:700;font-size:13px;color:var(--tx);}
.or{font-family:'Inter',sans-serif;font-size:11px;font-weight:500;color:var(--tx2);}
.os{margin-left:auto;font-family:'Inter',sans-serif;font-size:10px;font-weight:700;padding:3px 9px;border-radius:3px;}
.os-a{background:rgba(34,221,106,.12);border:1px solid rgba(34,221,106,.4);color:var(--green2);}
.os-p{background:rgba(240,192,64,.12);border:1px solid rgba(240,192,64,.4);color:var(--yellow2);}
.os-o{background:rgba(255,255,255,.05);border:1px solid var(--s3);color:var(--tx3);}

/* Status bar */
.sbar{
  height:24px;background:var(--s1);
  border-top:1px solid var(--dpb);
  display:flex;align-items:center;
  padding:0 14px;gap:18px;flex-shrink:0;
}
.si2{font-family:'Inter',sans-serif;font-size:10px;font-weight:500;color:var(--tx3);display:flex;align-items:center;gap:5px;}
.dot{width:5px;height:5px;border-radius:50%;background:var(--green);will-change:opacity;animation:pulse 2.5s ease-in-out infinite;}
.dot.r{background:var(--red);}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}

/* â•â• LAWS â•â• */
.law-cat{margin-bottom:12px;}
.lch{
  font-family:'Inter',sans-serif;font-size:12px;font-weight:700;
  color:var(--tx);letter-spacing:.5px;
  padding:9px 13px;
  background:var(--s1);
  border:1px solid var(--dpb);
  border-radius:4px 4px 0 0;
  cursor:pointer;
  display:flex;justify-content:space-between;align-items:center;
  user-select:none;
  transition:border-color .1s;
}
.lch:hover{border-color:var(--dp);}
.lch-code{color:var(--dp);font-family:'JetBrains Mono',monospace;font-size:11px;font-weight:600;}
.lcb{
  background:var(--s2);
  border:1px solid var(--dpb);border-top:none;
  border-radius:0 0 4px 4px;
  overflow:hidden;
}
.lhr{
  display:grid;grid-template-columns:100px 1fr 180px 100px 80px;
  padding:5px 13px;
  font-family:'JetBrains Mono',monospace;font-size:8px;font-weight:600;
  color:var(--tx3);letter-spacing:1.5px;text-transform:uppercase;
  background:var(--s1);border-bottom:1px solid var(--dpb);
}
.lr{
  display:grid;grid-template-columns:100px 1fr 180px 100px 80px;
  align-items:center;padding:9px 13px;
  border-bottom:1px solid var(--s3);
  cursor:pointer;
  /* Use transform for hover - GPU composite */
  transition:background .08s;
  will-change:background-color;
}
.lr:last-child{border-bottom:none;}
.lr:hover{background:var(--s1);}
.lc{font-family:'JetBrains Mono',monospace;font-size:11px;font-weight:700;color:var(--dp);}
.lcz{font-family:'Inter',sans-serif;font-size:13px;font-weight:600;color:var(--tx);}
.len{font-family:'Inter',sans-serif;font-size:11px;font-weight:400;color:var(--tx2);}
.lfine{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--yellow2);font-weight:600;}

.lt-f{font-family:'Inter',sans-serif;font-size:10px;font-weight:800;color:var(--red2);}
.lt-m{font-family:'Inter',sans-serif;font-size:10px;font-weight:800;color:var(--yellow2);}
.lt-w{font-family:'Inter',sans-serif;font-size:10px;font-weight:800;color:#ffb060;}
.lt-i{font-family:'Inter',sans-serif;font-size:10px;font-weight:800;color:var(--green2);}

.ld{
  display:none;
  background:var(--s1);
  border-top:1px solid var(--dpb);
  padding:12px 13px;
  font-family:'Inter',sans-serif;font-size:12px;font-weight:400;
  color:var(--tx2);line-height:1.7;
}
.ld.open{display:block;}
.ld-title{font-family:'Inter',sans-serif;font-size:14px;font-weight:700;color:var(--tx);margin-bottom:4px;}
.ld-code{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--dp);margin-bottom:8px;}
.ld-meta{display:flex;gap:14px;margin-top:8px;flex-wrap:wrap;}
.ld-meta span{font-family:'Inter',sans-serif;font-size:11px;font-weight:500;color:var(--tx2);}
.ld-meta b{font-weight:700;}

/* Paragraph label in incidents */
.par-ref{color:var(--dp);font-weight:700;font-family:'JetBrains Mono',monospace;font-size:11px;}
</style>
</head>
<body>

<!-- â•â• LOGIN â•â• -->
<div id="loginScreen">
  <div class="l-glow"></div>
  <div class="l-box">
    <div class="l-logo">
      <div class="l-ico" id="lIco">MDT</div>
      <div class="l-title" id="lTitle">MDT SYSTÃ‰M</div>
      <div class="l-sub">LOS SANTOS LAW ENFORCEMENT Â· v2.4</div>
    </div>
    <div class="d-toggle">
      <button id="dt0" class="dt-lspd" onclick="selDept('LSPD')">ğŸ”µ LSPD</button>
      <button id="dt1" onclick="selDept('LSSD')">ğŸŸ¡ LSSD</button>
    </div>
    <div class="l-field">
      <label>ÄŒÃ­slo odznaku (Badge #)</label>
      <input type="text" id="lBadge" placeholder="napÅ™. 101" maxlength="6" autocomplete="off">
    </div>
    <div class="l-field">
      <label>Heslo</label>
      <input type="password" id="lPass" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" onkeydown="if(event.key==='Enter')doLogin()">
    </div>
    <button class="l-btn" onclick="doLogin()">PÅ˜IHLÃSIT SE â†’</button>
    <div class="l-err" id="lErr"></div>
    <div class="l-hint">
      Demo:<br>
      <b>LSPD #101</b> / lspd2026 &nbsp;Â·&nbsp; <b>LSPD #112</b> / mitchell<br>
      <b>LSSD #201</b> / lssd2026 &nbsp;Â·&nbsp; <b>LSSD #234</b> / deputy
    </div>
  </div>
</div>

<!-- â•â• APP â•â• -->
<div id="appScreen" style="display:none;flex-direction:column;height:100vh;">

  <!-- TOPBAR -->
  <div class="topbar">
    <div class="logo">
      <div class="logo-badge" id="lBadgeTop">LSPD</div>
      <div>
        <div class="logo-text" id="lTextTop">LSPD MDT</div>
        <div class="logo-sub">MOBILE DATA TERMINAL v2.4</div>
      </div>
    </div>
    <div>
      <div id="clock">00:00:00</div>
      <div class="clock-sub">LOS SANTOS Â· 2026</div>
    </div>
    <div style="display:flex;align-items:center;gap:8px;">
      <div class="off-info" id="offInfo"></div>
      <button class="logout-btn" onclick="doLogout()">âœ• OdhlÃ¡sit</button>
    </div>
  </div>

  <!-- MAIN -->
  <div class="main">

    <!-- SIDEBAR -->
    <nav class="sidebar">
      <div class="nav-sep">Navigace</div>
      <button class="nav-btn active" onclick="nav('dashboard',this)"><span class="nav-icon">ğŸ“Š</span>PÅ™ehled</button>
      <button class="nav-btn" onclick="nav('persons',this)"><span class="nav-icon">ğŸ‘¤</span>Osoby</button>
      <button class="nav-btn" onclick="nav('vehicles',this)"><span class="nav-icon">ğŸš—</span>Vozidla</button>
      <button class="nav-btn" onclick="nav('warrants',this)"><span class="nav-icon">âš ï¸</span>ZÃ¡znamy</button>
      <button class="nav-btn" onclick="nav('incidents',this)"><span class="nav-icon">ğŸ“‹</span>Incidenty</button>
      <button class="nav-btn" onclick="nav('laws',this)"><span class="nav-icon">âš–ï¸</span>ZÃ¡kony</button>
      <div class="nav-sep" style="margin-top:6px;">Jednotka</div>
      <button class="nav-btn" onclick="nav('officers',this)"><span class="nav-icon">ğŸªª</span>DÅ¯stojnÃ­ci</button>
      <button class="nav-btn" onclick="nav('new-incident',this)"><span class="nav-icon">â•</span>NovÃ½ incident</button>
    </nav>

    <!-- DASHBOARD -->
    <div class="content active" id="page-dashboard">
      <div class="st">ğŸ“Š PÅ™ehled systÃ©mu</div>
      <div class="alert-bar">
        <span class="blink">âš </span>
        ALERT â€” BankovnÃ­ loupeÅ¾ v pochodu Â· Mirror Park Blvd Â· VÅ¡echny jednotky
      </div>
      <div class="g3" style="margin-bottom:12px;">
        <div class="sb"><div class="sb-n">8</div><div class="sb-l">AktivnÃ­ hlÃ­dky</div></div>
        <div class="sb"><div class="sb-n">14</div><div class="sb-l">HledanÃ© osoby</div></div>
        <div class="sb"><div class="sb-n">3</div><div class="sb-l">OtevÅ™enÃ© incidenty</div></div>
      </div>
      <div class="g2">
        <div>
          <div class="st">PoslednÃ­ incidenty</div>
          <table class="mt"><thead><tr><th>#ID</th><th>Popis</th><th>ZÃ¡vaÅ¾nost</th><th>Stav</th></tr></thead>
          <tbody>
            <tr><td>#0041</td><td>BankovnÃ­ loupeÅ¾</td><td><span class="sv s4">KOD 4</span></td><td style="color:var(--red2);font-weight:700">AktivnÃ­</td></tr>
            <tr><td>#0040</td><td>DopravnÃ­ nehoda DUI</td><td><span class="sv s2">KOD 2</span></td><td style="color:var(--yellow2);font-weight:700">Å etÅ™enÃ­</td></tr>
            <tr><td>#0039</td><td>VloupÃ¡nÃ­ do obchodu</td><td><span class="sv s3">KOD 3</span></td><td style="color:var(--green2);font-weight:700">UzavÅ™eno</td></tr>
            <tr><td>#0038</td><td>PÅ™estupek v provozu</td><td><span class="sv s1">KOD 1</span></td><td style="color:var(--green2);font-weight:700">UzavÅ™eno</td></tr>
          </tbody></table>
        </div>
        <div>
          <div class="st">HledanÃ© osoby</div>
          <table class="mt"><thead><tr><th>JmÃ©no</th><th>DOB</th><th>Hrozba</th></tr></thead>
          <tbody>
            <tr><td>Marcus Webb</td><td>1989-04-12</td><td><span class="tag t-ar">OzbrojenÃ½</span></td></tr>
            <tr><td>Jana KovÃ¡Å™ovÃ¡</td><td>1995-07-30</td><td><span class="tag t-ca">Pozor</span></td></tr>
            <tr><td>Darnell King</td><td>1987-11-02</td><td><span class="tag t-ar">OzbrojenÃ½</span></td></tr>
            <tr><td>Tyler Brooks</td><td>2001-01-19</td><td><span class="tag t-w">Wanted</span></td></tr>
          </tbody></table>
        </div>
      </div>
    </div>

    <!-- PERSONS -->
    <div class="content" id="page-persons">
      <div class="st">ğŸ‘¤ DatabÃ¡ze osob</div>
      <div class="sr">
        <input class="si" type="text" placeholder="Hledej jmÃ©no, RÄŒ..." id="personSearch" oninput="filterPersons()">
        <button class="btn">ğŸ” Hledat</button>
      </div>
      <div id="personList">
        <div class="card person-entry">
          <div class="pc">
            <div class="pav">ğŸ‘¨</div>
            <div style="flex:1">
              <div class="pn">Marcus Dwayne Webb</div>
              <div style="display:flex;flex-wrap:wrap;gap:10px;margin-bottom:7px;">
                <span class="mi">DOB: <b>12.04.1989</b></span>
                <span class="mi">RÄŒ: <b>890412/1234</b></span>
                <span class="mi">PohlavÃ­: <b>MuÅ¾</b></span>
              </div>
              <div style="display:flex;gap:5px;margin-bottom:8px;">
                <span class="tag t-w">Wanted</span><span class="tag t-ar">OzbrojenÃ½</span>
              </div>
              <div style="display:flex;gap:6px;">
                <button class="btn btn-sm" onclick="alert('Webb: 3 kriminÃ¡lie Â· 7 pÅ™estupkÅ¯ Â· Pokuta $42,000')">ZÃ¡znamy</button>
                <button class="btn btn-sm btn-danger">ZruÅ¡it warrant</button>
              </div>
            </div>
            <div style="text-align:right;min-width:90px;">
              <div class="mi">ZÃ¡znamy: <b>10</b></div>
              <div class="mi" style="margin-top:4px;">Pokuty: <b style="color:var(--red2)">$42,000</b></div>
            </div>
          </div>
        </div>
        <div class="card person-entry">
          <div class="pc">
            <div class="pav">ğŸ‘©</div>
            <div style="flex:1">
              <div class="pn">Jana KovÃ¡Å™ovÃ¡</div>
              <div style="display:flex;flex-wrap:wrap;gap:10px;margin-bottom:7px;">
                <span class="mi">DOB: <b>30.07.1995</b></span>
                <span class="mi">RÄŒ: <b>950730/5678</b></span>
                <span class="mi">PohlavÃ­: <b>Å½ena</b></span>
              </div>
              <div style="display:flex;gap:5px;margin-bottom:8px;"><span class="tag t-ca">Pozor</span></div>
              <div style="display:flex;gap:6px;">
                <button class="btn btn-sm">ZÃ¡znamy</button>
                <button class="btn btn-sm btn-success">ÄŒistÃ½ zÃ¡znam</button>
              </div>
            </div>
            <div style="text-align:right;min-width:90px;">
              <div class="mi">ZÃ¡znamy: <b>2</b></div>
              <div class="mi" style="margin-top:4px;">Pokuty: <b style="color:var(--yellow2)">$1,500</b></div>
            </div>
          </div>
        </div>
        <div class="card person-entry">
          <div class="pc">
            <div class="pav">ğŸ‘¨</div>
            <div style="flex:1">
              <div class="pn">Daniel Torres</div>
              <div style="display:flex;flex-wrap:wrap;gap:10px;margin-bottom:7px;">
                <span class="mi">DOB: <b>05.12.1992</b></span>
                <span class="mi">RÄŒ: <b>921205/9012</b></span>
                <span class="mi">PohlavÃ­: <b>MuÅ¾</b></span>
              </div>
              <div style="display:flex;gap:5px;margin-bottom:8px;"><span class="tag t-c">ÄŒistÃ½</span></div>
              <div style="display:flex;gap:6px;">
                <button class="btn btn-sm">ZÃ¡znamy</button>
                <button class="btn btn-sm btn-danger">Vystavit warrant</button>
              </div>
            </div>
            <div style="text-align:right;min-width:90px;">
              <div class="mi">ZÃ¡znamy: <b>0</b></div>
              <div class="mi" style="margin-top:4px;">Pokuty: <b style="color:var(--green2)">$0</b></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- VEHICLES -->
    <div class="content" id="page-vehicles">
      <div class="st">ğŸš— DatabÃ¡ze vozidel</div>
      <div class="sr">
        <input class="si" type="text" placeholder="Hledej SPZ, VIN, majitele...">
        <button class="btn">ğŸ” Hledat</button>
      </div>
      <div class="card">
        <div style="display:flex;align-items:center;gap:13px;">
          <div class="plate">6LSP123</div>
          <div style="flex:1">
            <div style="font-family:Inter,sans-serif;font-size:14px;font-weight:700;margin-bottom:4px;">Vapid Dominator GTT Â· 2023</div>
            <div class="mi">Majitel: <b>Marcus Webb</b> Â· VIN: <b>1HGCM82633A123456</b></div>
            <div class="mi" style="margin-top:3px;">PojiÅ¡tÄ›nÃ­: <b style="color:var(--red2)">VyprÅ¡elo</b> Â· STK: <b style="color:var(--green2)">PlatnÃ¡</b></div>
          </div>
          <span class="tag t-w">OdcizenÃ©</span>
        </div>
      </div>
      <div class="card">
        <div style="display:flex;align-items:center;gap:13px;">
          <div class="plate">9XKT004</div>
          <div style="flex:1">
            <div style="font-family:Inter,sans-serif;font-size:14px;font-weight:700;margin-bottom:4px;">Annis Elegy RH8 Â· 2021</div>
            <div class="mi">Majitel: <b>Daniel Torres</b> Â· VIN: <b>2T1BURHE0JC034567</b></div>
            <div class="mi" style="margin-top:3px;">PojiÅ¡tÄ›nÃ­: <b style="color:var(--green2)">PlatnÃ¡</b> Â· STK: <b style="color:var(--green2)">PlatnÃ¡</b></div>
          </div>
          <span class="tag t-c">ÄŒistÃ©</span>
        </div>
      </div>
      <div class="card">
        <div style="display:flex;align-items:center;gap:13px;">
          <div class="plate">LSS7770</div>
          <div style="flex:1">
            <div style="font-family:Inter,sans-serif;font-size:14px;font-weight:700;margin-bottom:4px;">Bravado Buffalo S Â· 2020</div>
            <div class="mi">Majitel: <b>Jana KovÃ¡Å™ovÃ¡</b> Â· VIN: <b>3FA6P0H74GR256789</b></div>
            <div class="mi" style="margin-top:3px;">PojiÅ¡tÄ›nÃ­: <b style="color:var(--yellow2)">VyprÅ¡Ã­ za 7 dnÃ­</b> Â· STK: <b style="color:var(--green2)">PlatnÃ¡</b></div>
          </div>
          <span class="tag t-ca">Pozor</span>
        </div>
      </div>
    </div>

    <!-- WARRANTS -->
    <div class="content" id="page-warrants">
      <div class="st">âš ï¸ ZÃ¡znamy o trestech</div>
      <div class="sr">
        <input class="si" type="text" placeholder="Hledej osobu, paragraf...">
        <select class="si" style="flex:0 0 140px;">
          <option>VÅ¡echny typy</option><option>Warrant</option><option>Pokuta</option><option>Trest</option>
        </select>
        <button class="btn">Filtrovat</button>
      </div>
      <table class="mt" style="background:var(--s2);border:1px solid var(--dpb);border-radius:4px;">
        <thead><tr><th>#ID</th><th>Osoba</th><th>PÅ™estupek</th><th>Paragraf</th><th>ZÃ¡vaÅ¾nost</th><th>Datum</th><th>Pokuta</th><th>Stav</th></tr></thead>
        <tbody>
          <tr><td>#W-0141</td><td><b>Marcus Webb</b></td><td>OzbrojenÃ¡ loupeÅ¾</td><td class="par-ref">PEN Â§211</td><td><span class="sv s4">KOD 4</span></td><td>2026-02-20</td><td style="color:var(--red2);font-weight:700">$150,000</td><td><span class="tag t-w">AktivnÃ­</span></td></tr>
          <tr><td>#W-0138</td><td><b>Marcus Webb</b></td><td>Odpor vÅ¯Äi policii</td><td class="par-ref">PEN Â§148</td><td><span class="sv s3">KOD 3</span></td><td>2026-01-15</td><td style="color:var(--red2);font-weight:700">$25,000</td><td><span class="tag t-w">AktivnÃ­</span></td></tr>
          <tr><td>#T-0099</td><td><b>Jana KovÃ¡Å™ovÃ¡</b></td><td>DUI â€” Å™Ã­zenÃ­ pod vlivem</td><td class="par-ref">VC Â§23152</td><td><span class="sv s2">KOD 2</span></td><td>2025-11-03</td><td style="color:var(--yellow2);font-weight:700">$5,000</td><td><span class="tag t-ca">Nezaplaceno</span></td></tr>
          <tr><td>#T-0078</td><td><b>Tyler Brooks</b></td><td>NelegÃ¡lnÃ­ pÅ™echovÃ¡vÃ¡nÃ­ zbranÄ›</td><td class="par-ref">PEN Â§29800</td><td><span class="sv s3">KOD 3</span></td><td>2025-09-12</td><td style="color:var(--green2);font-weight:700">$12,000</td><td><span class="tag t-c">Zaplaceno</span></td></tr>
          <tr><td>#T-0055</td><td><b>Daniel Torres</b></td><td>PÅ™ekroÄenÃ­ rychlosti</td><td class="par-ref">VC Â§22350</td><td><span class="sv s1">KOD 1</span></td><td>2025-06-22</td><td style="color:var(--green2);font-weight:700">$500</td><td><span class="tag t-c">Zaplaceno</span></td></tr>
        </tbody>
      </table>
    </div>

    <!-- INCIDENTS -->
    <div class="content" id="page-incidents">
      <div class="st">ğŸ“‹ Incidenty</div>
      <div class="sr">
        <input class="si" type="text" placeholder="Hledej ID, popis, dÅ¯stojnÃ­ka...">
        <select class="si" style="flex:0 0 130px;"><option>VÅ¡echny stavy</option><option>AktivnÃ­</option><option>Å etÅ™enÃ­</option><option>UzavÅ™eno</option></select>
        <button class="btn">Filtrovat</button>
      </div>
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:9px;">
          <div>
            <div style="font-family:Orbitron,sans-serif;font-size:11px;color:var(--dp);font-weight:700;margin-bottom:3px;">#0041 Â· BANKOVNÃ LOUPEÅ½</div>
            <div class="mi">26.02.2026 Â· 14:32 Â· Mirror Park Blvd</div>
          </div>
          <div style="display:flex;gap:6px;align-items:center;"><span class="sv s4">KOD 4</span><span class="tag t-w">AktivnÃ­</span></div>
        </div>
        <div style="font-size:13px;font-weight:400;margin-bottom:8px;line-height:1.6;color:var(--tx);">
          HlÃ¡Å¡ena loupeÅ¾ ve Fleeca Bank. 3 pachatelÃ© ozbrojeni samopaly, 4 rukojmÃ­. PoruÅ¡enÃ­: <span class="par-ref">PEN Â§211, PEN Â§207</span>
        </div>
        <div class="mi">VedoucÃ­: <b>Sgt. Kevin Hayes #101</b> Â· Jednotky: <b>4</b></div>
      </div>
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:9px;">
          <div>
            <div style="font-family:Orbitron,sans-serif;font-size:11px;color:var(--dp);font-weight:700;margin-bottom:3px;">#0040 Â· DOPRAVNÃ NEHODA S DUI</div>
            <div class="mi">26.02.2026 Â· 11:17 Â· Grove Street</div>
          </div>
          <div style="display:flex;gap:6px;align-items:center;"><span class="sv s2">KOD 2</span><span class="tag t-ca">Å etÅ™enÃ­</span></div>
        </div>
        <div style="font-size:13px;font-weight:400;margin-bottom:8px;line-height:1.6;color:var(--tx);">
          SrÃ¡Å¾ka dvou vozidel na kÅ™iÅ¾ovatce Grove St. ZranÄ›nÃ­: 1 osoba. Å˜idiÄ podezÅ™elÃ½ z DUI. PoruÅ¡enÃ­: <span class="par-ref">VC Â§23152(a)</span>
        </div>
        <div class="mi">VedoucÃ­: <b>Off. Sarah Mitchell #112</b> Â· Jednotky: <b>2</b></div>
      </div>
    </div>

    <!-- LAWS -->
    <div class="content" id="page-laws">
      <div class="st">âš–ï¸ TrestnÃ­ zÃ¡konÃ­k Kalifornie â€” pÅ™ehled</div>
      <div class="sr">
        <input class="si" type="text" placeholder="Hledej paragraf, ÄeskÃ½ nebo anglickÃ½ nÃ¡zev..." id="lawSearch" oninput="filterLaws()">
        <select class="si" style="flex:0 0 160px;" id="lawType" onchange="filterLaws()">
          <option value="">VÅ¡echny typy</option>
          <option value="F">Felony (ZloÄin)</option>
          <option value="M">Misdemeanor (PÅ™estupek)</option>
          <option value="I">Infraction (PÅ™estupek-sprÃ¡vnÃ­)</option>
          <option value="W">Wobbler (F nebo M)</option>
        </select>
      </div>
      <div id="lawsContainer"></div>
    </div>

    <!-- OFFICERS -->
    <div class="content" id="page-officers">
      <div class="st">ğŸªª PÅ™ehled dÅ¯stojnÃ­kÅ¯</div>
      <div class="g3" style="margin-bottom:12px;">
        <div class="sb"><div class="sb-n">8</div><div class="sb-l">10-8 AktivnÃ­</div></div>
        <div class="sb"><div class="sb-n">2</div><div class="sb-l">10-7 Pauza</div></div>
        <div class="sb"><div class="sb-n">4</div><div class="sb-l">Offline</div></div>
      </div>
      <div class="st">AktivnÃ­ smÄ›na</div>
      <div id="officerList"></div>
    </div>

    <!-- NEW INCIDENT -->
    <div class="content" id="page-new-incident">
      <div class="st">â• NovÃ½ incident</div>
      <div class="card" style="padding:16px;">
        <div class="fr">
          <div class="fg"><div class="fl">Typ incidentu</div>
            <select class="fs"><option>LoupeÅ¾</option><option>DopravnÃ­ nehoda</option><option>VloupÃ¡nÃ­</option><option>PÅ™epadenÃ­</option><option>StÅ™elba</option><option>Ãšnos</option><option>PÅ™estupek</option><option>JinÃ©</option></select>
          </div>
          <div class="fg"><div class="fl">ZÃ¡vaÅ¾nost</div>
            <select class="fs"><option>KOD 1 â€” NÃ­zkÃ¡</option><option>KOD 2 â€” StÅ™ednÃ­</option><option>KOD 3 â€” VysokÃ¡</option><option>KOD 4 â€” KritickÃ¡</option></select>
          </div>
        </div>
        <div class="fr">
          <div class="fg"><div class="fl">PoruÅ¡enÃ½ zÃ¡kon (paragraf)</div>
            <select class="fs" id="incidentLaw"><option value="">-- Vyberte zÃ¡kon --</option></select>
          </div>
          <div class="fg"><div class="fl">Lokalita</div><input class="fi" type="text" placeholder="Ulice, ÄtvrÅ¥..."></div>
        </div>
        <div class="fr">
          <div class="fg"><div class="fl">ZapojenÃ© osoby</div><input class="fi" type="text" placeholder="JmÃ©no, RÄŒ..."></div>
          <div class="fg"><div class="fl">ZapojenÃ¡ vozidla</div><input class="fi" type="text" placeholder="SPZ..."></div>
        </div>
        <div class="fg" style="margin-bottom:12px;">
          <div class="fl">Popis incidentu</div>
          <textarea class="fta" placeholder="DetailnÃ­ popis udÃ¡losti..."></textarea>
        </div>
        <div style="display:flex;gap:8px;">
          <button class="btn btn-success" onclick="alert('âœ” Incident #0042 uloÅ¾en do systÃ©mu!')">ğŸ’¾ UloÅ¾it incident</button>
          <button class="btn btn-danger">âœ• ZruÅ¡it</button>
        </div>
      </div>
    </div>

  </div><!-- /main -->

  <!-- STATUS BAR -->
  <div class="sbar">
    <div class="si2"><span class="dot"></span>MDT Online</div>
    <div class="si2"><span class="dot"></span>DatabÃ¡ze sync</div>
    <div class="si2"><span class="dot r blink"></span>1 aktivnÃ­ alert</div>
    <div class="si2" style="margin-left:auto;" id="sbarOff"></div>
  </div>

</div><!-- /appScreen -->

<script>
'use strict';

/* â”€â”€â”€ DATA â”€â”€â”€ */
const OFFICERS = {
  LSPD:{
    '101':{pass:'lspd2026',name:'Kevin Hayes',rank:'Sergeant',shift:'HlÃ­dka C',status:'a'},
    '112':{pass:'mitchell',name:'Sarah Mitchell',rank:'Officer',shift:'HlÃ­dka C',status:'a'},
    '134':{pass:'okafor',name:'James Okafor',rank:'Officer',shift:'HlÃ­dka B',status:'p'},
    '088':{pass:'vargas',name:'Lisa Vargas',rank:'Detective',shift:'KriminÃ¡lka',status:'a'},
    '201':{pass:'novak',name:'TomÃ¡Å¡ NovÃ¡k',rank:'Officer',shift:'HlÃ­dka A',status:'o'},
  },
  LSSD:{
    '201':{pass:'lssd2026',name:'Miguel Torres',rank:'Deputy',shift:'HlÃ­dka A',status:'a'},
    '234':{pass:'deputy',name:'Anna White',rank:'Deputy',shift:'HlÃ­dka B',status:'a'},
    '302':{pass:'sheriff',name:'Robert Clark',rank:'Sergeant',shift:'HlÃ­dka C',status:'p'},
    '411':{pass:'johnson',name:'Dave Johnson',rank:'Corporal',shift:'HlÃ­dka A',status:'o'},
  }
};

const LAWS=[
  {cat:'ğŸ”´ NÃ¡silnÃ© trestnÃ© Äiny â€” PEN Â§Â§ 187â€“249',laws:[
    {code:'PEN Â§187',en:'Murder',cz:'VraÅ¾da',type:'F',fine:'$50,000+',desc:'ÃšmyslnÃ© a neoprÃ¡vnÄ›nÃ© usmrcenÃ­ jinÃ© osoby. First degree (ÃºkladnÃ¡) vs. Second degree (bez premÃ­ditace).'},
    {code:'PEN Â§192',en:'Manslaughter',cz:'ZabitÃ­ â€” neÃºmyslnÃ¡ vraÅ¾da',type:'F',fine:'$10,000+',desc:'UsmrcenÃ­ bez zlÃ©ho Ãºmyslu. Voluntary (dobrovolnÃ©), Involuntary nebo Vehicular Manslaughter.'},
    {code:'PEN Â§203',en:'Mayhem',cz:'MrzaÄenÃ­ â€” tÄ›Å¾kÃ© ublÃ­Å¾enÃ­ na tÄ›le',type:'F',fine:'$10,000',desc:'ÃšmyslnÃ© trvalÃ© znetvoÅ™enÃ­ nebo zbavenÃ­ funkce ÄÃ¡sti tÄ›la jinÃ© osoby.'},
    {code:'PEN Â§207',en:'Kidnapping',cz:'Ãšnos osoby',type:'F',fine:'$10,000+',desc:'PÅ™emÃ­stÄ›nÃ­ osoby do jinÃ© lokace silou, strachem nebo klamem â€” proti jejÃ­ vÅ¯li.'},
    {code:'PEN Â§211',en:'Robbery',cz:'LoupeÅ¾ (ozbrojenÃ¡ nebo prostÃ¡)',type:'F',fine:'$10,000+',desc:'PÅ™ivlastnÄ›nÃ­ majetku od osoby pomocÃ­ sÃ­ly nebo strachu. 1st degree: obydlÃ­, banky. 2nd degree: ostatnÃ­ mÃ­sta.'},
    {code:'PEN Â§215',en:'Carjacking',cz:'KrÃ¡deÅ¾ automobilu za pouÅ¾itÃ­ nÃ¡silÃ­',type:'F',fine:'$10,000+',desc:'OdcizenÃ­ motorovÃ©ho vozidla od Å™idiÄe nebo cestujÃ­cÃ­ho pomocÃ­ sÃ­ly nebo zastraÅ¡enÃ­.'},
    {code:'PEN Â§236',en:'False Imprisonment',cz:'NezÃ¡konnÃ© omezenÃ­ svobody pohybu',type:'W',fine:'$1,000â€“$10,000',desc:'OmezenÃ­ pohybu osoby bez jejÃ­ho souhlasu. Wobbler â€” felony pÅ™i pouÅ¾itÃ­ nÃ¡silÃ­ nebo zbranÄ›.'},
    {code:'PEN Â§240',en:'Assault',cz:'Ãštok â€” hrozba nÃ¡silÃ­m',type:'M',fine:'$2,000',desc:'Pokus o zpÅ¯sobenÃ­ nÃ¡silÃ­ jinÃ© osobÄ› s pÅ™Ã­tomnou schopnostÃ­ ho provÃ©st. FyzickÃ½ kontakt nenÃ­ nutnÃ½.'},
    {code:'PEN Â§242',en:'Battery',cz:'FyzickÃ© napadenÃ­',type:'M',fine:'$2,000',desc:'ÃšmyslnÃ© a protiprÃ¡vnÃ­ fyzickÃ© dotknuti se jinÃ© osoby Å¡kodlivÃ½m nebo urÃ¡Å¾livÃ½m zpÅ¯sobem.'},
    {code:'PEN Â§245',en:'Assault with Deadly Weapon (ADW)',cz:'Ãštok smrtÃ­cÃ­m pÅ™edmÄ›tem',type:'W',fine:'$10,000',desc:'Ãštok se zbranÃ­ nebo silou schopnou zpÅ¯sobit vÃ¡Å¾nÃ© ublÃ­Å¾enÃ­ na tÄ›le. Wobbler dle konkrÃ©tnÃ­ho pÅ™edmÄ›tu.'},
  ]},
  {cat:'ğŸ”« ZbranÄ› a stÅ™elnÃ© zbranÄ› â€” PEN Â§Â§ 16000â€“34370',laws:[
    {code:'PEN Â§417',en:'Brandishing a Firearm',cz:'VÃ½hrÅ¯Å¾nÃ© ukazovÃ¡nÃ­ stÅ™elnÃ© zbranÄ›',type:'W',fine:'$1,000â€“$5,000',desc:'VytaÅ¾enÃ­ nebo ukazovÃ¡nÃ­ zbranÄ› jinÃ© osobÄ› zpÅ¯sobem, kterÃ½ vzbuzuje strach nebo zpÅ¯sobuje ohroÅ¾enÃ­.'},
    {code:'PEN Â§25400',en:'Carrying Concealed Weapon',cz:'SkrytÃ¡ zbraÅˆ bez povolenÃ­ (CCW)',type:'W',fine:'$1,000',desc:'PÅ™enÃ¡Å¡enÃ­ skrytÃ© stÅ™elnÃ© zbranÄ› bez platnÃ©ho CCW (Carry Concealed Weapon) povolenÃ­.'},
    {code:'PEN Â§25850',en:'Carrying Loaded Firearm in Public',cz:'NabytÃ¡ zbraÅˆ na veÅ™ejnosti',type:'W',fine:'$1,000',desc:'NoÅ¡enÃ­ nabitÃ© stÅ™elnÃ© zbranÄ› na veÅ™ejnÃ©m mÃ­stÄ› nebo ve vozidle bez platnÃ©ho oprÃ¡vnÄ›nÃ­.'},
    {code:'PEN Â§29800',en:'Felon in Possession of Firearm',cz:'StÅ™elnÃ¡ zbraÅˆ v rukou trestance',type:'F',fine:'$10,000',desc:'VlastnictvÃ­, noÅ¡enÃ­ nebo pÅ™echovÃ¡vÃ¡nÃ­ stÅ™elnÃ© zbranÄ› osobou odsouzenou za felony nebo s zÃ¡kazem.'},
    {code:'PEN Â§12022',en:'Armed Enhancement',cz:'PÅ™itÄ›Å¾ujÃ­cÃ­ okolnost â€” ozbrojenÃ­ pÅ™i trestnÃ©m Äinu',type:'F',fine:'+2â€“4 roky',desc:'PÅ™Ã­davnÃ½ trest za spÃ¡chÃ¡nÃ­ trestnÃ©ho Äinu s osobnÄ› drÅ¾enou nebo pouÅ¾itou stÅ™elnou zbranÃ­.'},
  ]},
  {cat:'ğŸ  MajetkovÃ© trestnÃ© Äiny â€” PEN Â§Â§ 441â€“625',laws:[
    {code:'PEN Â§451',en:'Arson',cz:'Å½hÃ¡Å™stvÃ­ â€” ÃºmyslnÃ½ Å¾hÃ¡Å™',type:'F',fine:'$10,000+',desc:'ÃšmyslnÃ© nebo zlovolnÃ© zapÃ¡lenÃ­ budovy, lesa nebo jinÃ©ho majetku. Aggravated arson pÅ™i ohroÅ¾enÃ­ Å¾ivotÅ¯.'},
    {code:'PEN Â§459',en:'Burglary',cz:'VloupÃ¡nÃ­',type:'W',fine:'$10,000',desc:'Vstup do budovy s Ãºmyslem spÃ¡chat krÃ¡deÅ¾ nebo jinÃ½ trestnÃ½ Äin. 1st degree: obydlÃ­ = felony. 2nd degree = wobbler.'},
    {code:'PEN Â§470',en:'Forgery',cz:'PadÄ›lÃ¡nÃ­ dokumentÅ¯',type:'W',fine:'$10,000',desc:'PadÄ›lÃ¡nÃ­, falÅ¡ovÃ¡nÃ­ nebo pozmÄ›ÅˆovÃ¡nÃ­ zÃ¡konnÃ½ch dokumentÅ¯, Å¡ekÅ¯ nebo podpisÅ¯ s Ãºmyslem podvÃ©st.'},
    {code:'PEN Â§487',en:'Grand Theft / Grand Theft Auto',cz:'KrÃ¡deÅ¾ vyÅ¡Å¡Ã­ hodnoty (GTA)',type:'W',fine:'$10,000',desc:'KrÃ¡deÅ¾ majetku v hodnotÄ› nad $950. Zahrnuje Grand Theft Auto â€” odcizenÃ­ motorovÃ©ho vozidla.'},
    {code:'PEN Â§488',en:'Petty Theft',cz:'KrÃ¡deÅ¾ niÅ¾Å¡Ã­ hodnoty',type:'M',fine:'$1,000',desc:'KrÃ¡deÅ¾ majetku v hodnotÄ› do $950. OpakovanÃ© poruÅ¡enÃ­ lze stÃ­hat jako felony dle PEN Â§666.'},
    {code:'PEN Â§496',en:'Receiving Stolen Property',cz:'PÅ™ijÃ­mÃ¡nÃ­ nebo pÅ™echovÃ¡vÃ¡nÃ­ odcizenÃ©ho zboÅ¾Ã­',type:'W',fine:'$1,000â€“$10,000',desc:'VÄ›domÃ© pÅ™ijÃ­mÃ¡nÃ­, Ãºschova nebo prodej majetku, o nÄ›mÅ¾ pachatel vÃ­, Å¾e byl odcizen.'},
    {code:'PEN Â§518',en:'Extortion',cz:'VydÃ­rÃ¡nÃ­ â€” vynucenÃ­ jednÃ¡nÃ­ hrozbou',type:'F',fine:'$10,000',desc:'ZÃ­skÃ¡nÃ­ majetku nebo jednÃ¡nÃ­ od osoby prostÅ™ednictvÃ­m hrozeb, nÃ¡silÃ­ nebo nÃ¡tlaku na ni nebo jejÃ­ blÃ­zkÃ©.'},
    {code:'PEN Â§503',en:'Embezzlement',cz:'ZpronevÄ›ra svÄ›Å™enÃ©ho majetku',type:'W',fine:'$1,000â€“$10,000',desc:'PodvodnÃ© pÅ™ivlastnÄ›nÃ­ majetku, kterÃ½ byl svÄ›Å™en pachateli (zamÄ›stnancem, sprÃ¡vcem nebo zmocnÄ›ncem).'},
  ]},
  {cat:'ğŸ¤ PÅ™estupky proti veÅ™ejnÃ©mu poÅ™Ã¡dku â€” PEN Â§Â§ 403â€“423',laws:[
    {code:'PEN Â§148',en:'Resisting / Obstructing an Officer',cz:'Odpor nebo maÅ™enÃ­ prÃ¡ce policisty',type:'M',fine:'$1,000',desc:'ÃšmyslnÃ© brÃ¡nÄ›nÃ­, zpomalenÃ­ nebo maÅ™enÃ­ zÃ¡konnÃ©ho vÃ½konu povinnostÃ­ policisty nebo zÃ¡chranÃ¡Å™e.'},
    {code:'PEN Â§415',en:'Disturbing the Peace',cz:'NaruÅ¡ovÃ¡nÃ­ veÅ™ejnÃ©ho poÅ™Ã¡dku',type:'I/M',fine:'$400',desc:'VÃ½trÅ¾nictvÃ­, nadmÄ›rnÃ½ hluk, vzÃ¡jemnÃ½ souboj na veÅ™ejnÃ©m mÃ­stÄ› nebo provokace s Ãºmyslem vyvolat rvaÄku.'},
    {code:'PEN Â§422',en:'Criminal Threats',cz:'TrestnÃ­ vÃ½hrÅ¯Å¾ky â€” hrozba ublÃ­Å¾enÃ­m',type:'W',fine:'$1,000â€“$10,000',desc:'VÃ½hrÅ¯Å¾ka zpÅ¯sobenÃ­m zÃ¡vaÅ¾nÃ© fyzickÃ© Ãºjmy nebo smrtÃ­ jinÃ© osobÄ› nebo jejÃ­ rodinÄ› s vÄ›domÃ­m, Å¾e obÄ›Å¥ bude v strachu.'},
    {code:'PEN Â§594',en:'Vandalism',cz:'Vandalismus â€” ÃºmyslnÃ© poÅ¡kozovÃ¡nÃ­ majetku',type:'W',fine:'$400â€“$10,000',desc:'ÃšmyslnÃ© niÄenÃ­, poÅ¡kozovÃ¡nÃ­ nebo znehodnocovÃ¡nÃ­ cizÃ­ho majetku (graffiti, rozbitÃ­, Å¡krÃ¡bance apod.).'},
    {code:'PEN Â§602',en:'Trespassing',cz:'NeoprÃ¡vnÄ›nÃ½ vstup na cizÃ­ pozemek',type:'I/M',fine:'$75â€“$1,000',desc:'Vstup nebo setrvÃ¡nÃ­ na soukromÃ©m nebo uzavÅ™enÃ©m pozemku bez souhlasu vlastnÃ­ka nebo oprÃ¡vnÄ›nÃ© osoby.'},
    {code:'PEN Â§647(f)',en:'Public Intoxication',cz:'OpilstvÃ­ nebo intoxikace na veÅ™ejnosti',type:'M',fine:'$1,000',desc:'Osoba je pod vlivem alkoholu nebo drog natolik, Å¾e nemÅ¯Å¾e peÄovat o vlastnÃ­ bezpeÄnost na veÅ™ejnÃ©m mÃ­stÄ›.'},
  ]},
  {cat:'ğŸš— DopravnÃ­ pÅ™estupky â€” California Vehicle Code (VC)',laws:[
    {code:'VC Â§20001',en:'Hit and Run with Injury',cz:'Ãšnik z mÃ­sta nehody se zranÄ›nÃ­m',type:'F',fine:'$10,000',desc:'OpuÅ¡tÄ›nÃ­ mÃ­sta dopravnÃ­ nehody bez poskytnutÃ­ pomoci zranÄ›nÃ© osobÄ› nebo kontaktovÃ¡nÃ­ zÃ¡chrannÃ½ch sloÅ¾ek.'},
    {code:'VC Â§20002',en:'Hit and Run (Property Damage)',cz:'Ãšnik z mÃ­sta nehody â€” Å¡koda na majetku',type:'M',fine:'$1,000',desc:'OdjetÃ­ z mÃ­sta nehody bez oznÃ¡menÃ­ poÅ¡kozenÃ© stranÄ› nebo bez zanechÃ¡nÃ­ kontaktnÃ­ch ÃºdajÅ¯.'},
    {code:'VC Â§22350',en:'Basic Speed Law â€” Speeding',cz:'PÅ™ekroÄenÃ­ rychlostnÃ­ho limitu',type:'I',fine:'$35â€“$500',desc:'Å˜Ã­zenÃ­ rychlostÃ­ vyÅ¡Å¡Ã­ neÅ¾ je bezpeÄnÃ© za danÃ½ch podmÃ­nek nebo pÅ™ekraÄujÃ­cÃ­ zÃ¡konnÃ½ limit.'},
    {code:'VC Â§23103',en:'Reckless Driving',cz:'BezohlednÃ¡ nebo nebezpeÄnÃ¡ jÃ­zda',type:'M',fine:'$1,000',desc:'Å˜Ã­zenÃ­ motorovÃ©ho vozidla s vÄ›domÃ½m ignorovÃ¡nÃ­m bezpeÄnosti ostatnÃ­ch osob nebo majetku.'},
    {code:'VC Â§23152',en:'Driving Under the Influence (DUI)',cz:'Å˜Ã­zenÃ­ pod vlivem alkoholu nebo drog',type:'W',fine:'$1,000â€“$5,000',desc:'Å˜Ã­zenÃ­ s hladinou alkoholu â‰¥ 0.08% BAC nebo pod vlivem jakÃ©koliv drogy ovlivÅˆujÃ­cÃ­ schopnost Å™Ã­dit.'},
    {code:'VC Â§2800.2',en:'Evading Police â€” Reckless Driving',cz:'NebezpeÄnÃ½ Ãºnik pÅ™ed policejnÃ­ hlÃ­dkou',type:'W',fine:'$1,000â€“$10,000',desc:'ÃšmyslnÃ© vyhÃ½bÃ¡nÃ­ se pronÃ¡sledujÃ­cÃ­mu policejnÃ­mu vozidlu se zapnutÃ½mi svÄ›tly a sirÃ©nou â€” nebezpeÄnÃ½m zpÅ¯sobem.'},
    {code:'VC Â§10851',en:'Vehicle Theft / Unauthorized Use',cz:'KrÃ¡deÅ¾ nebo neoprÃ¡vnÄ›nÃ© pouÅ¾itÃ­ vozidla',type:'W',fine:'$5,000â€“$10,000',desc:'OdcizenÃ­ nebo neoprÃ¡vnÄ›nÃ© pouÅ¾itÃ­ motorovÃ©ho vozidla bez souhlasu majitele s Ãºmyslem ho zbavit vlastnictvÃ­.'},
  ]},
  {cat:'ğŸ’Š Drogy a omamnÃ© lÃ¡tky â€” Health & Safety Code (H&S)',laws:[
    {code:'H&S Â§11350',en:'Possession of Controlled Substance',cz:'PÅ™echovÃ¡vÃ¡nÃ­ kontrolovanÃ© lÃ¡tky',type:'M',fine:'$1,000',desc:'PÅ™echovÃ¡vÃ¡nÃ­ omamnÃ© nebo psychotropnÃ­ lÃ¡tky bez platnÃ©ho lÃ©kaÅ™skÃ©ho pÅ™edpisu.'},
    {code:'H&S Â§11351',en:'Possession for Sale',cz:'PÅ™echovÃ¡vÃ¡nÃ­ s Ãºmyslem prodeje',type:'F',fine:'$20,000',desc:'DrÅ¾enÃ­ kontrolovanÃ© lÃ¡tky v mnoÅ¾stvÃ­ nasvÄ›dÄujÃ­cÃ­m prodeji nebo distribuci.'},
    {code:'H&S Â§11352',en:'Transportation / Sale of Narcotics',cz:'PÅ™eprava nebo prodej omamnÃ½ch lÃ¡tek',type:'F',fine:'$20,000',desc:'PÅ™eprava, dovoz, prodej nebo distribuce kontrolovanÃ½ch lÃ¡tek bez zÃ¡konnÃ©ho oprÃ¡vnÄ›nÃ­.'},
    {code:'H&S Â§11357',en:'Possession of Cannabis (excess)',cz:'PÅ™echovÃ¡vÃ¡nÃ­ marihuany nad zÃ¡konnÃ½ limit',type:'I/M',fine:'$100â€“$500',desc:'PÅ™echovÃ¡vÃ¡nÃ­ vÃ­ce neÅ¾ 28.5g marihuany nebo 8g koncentrÃ¡tu â€” nad zÃ¡konem povolenou hranici.'},
  ]},
];

/* â”€â”€â”€ STATE â”€â”€â”€ */
let dept='LSPD', officer=null;

/* â”€â”€â”€ CSS DEPT â”€â”€â”€ */
function applyCSS(d){
  const r=document.documentElement.style;
  if(d==='LSPD'){
    r.setProperty('--dp','var(--lspd-a)');r.setProperty('--dpb','var(--lspd-b)');
    r.setProperty('--dpg','var(--lspd-g)');r.setProperty('--dpp','var(--lspd-p)');
  }else{
    r.setProperty('--dp','var(--lssd-a)');r.setProperty('--dpb','var(--lssd-b)');
    r.setProperty('--dpg','var(--lssd-g)');r.setProperty('--dpp','var(--lssd-p)');
  }
}

/* â”€â”€â”€ LOGIN â”€â”€â”€ */
function selDept(d){
  dept=d;applyCSS(d);
  document.getElementById('dt0').className=d==='LSPD'?'dt-lspd':'';
  document.getElementById('dt1').className=d==='LSSD'?'dt-lssd':'';
  document.getElementById('lIco').textContent=d;
  document.getElementById('lTitle').textContent=d+' MDT';
}

function doLogin(){
  const badge=document.getElementById('lBadge').value.trim();
  const pass=document.getElementById('lPass').value;
  const err=document.getElementById('lErr');
  if(!badge||!pass){err.textContent='VyplÅˆte ÄÃ­slo odznaku a heslo.';return;}
  const db=OFFICERS[dept];
  if(!db[badge]){err.textContent='âŒ Badge #'+badge+' nenalezeno v systÃ©mu '+dept+'.';return;}
  if(db[badge].pass!==pass){err.textContent='âŒ NesprÃ¡vnÃ© heslo. PÅ™Ã­stup zamÃ­tnut.';return;}
  err.textContent='';
  officer={badge,dept,...db[badge]};
  document.getElementById('loginScreen').style.display='none';
  document.getElementById('appScreen').style.display='flex';
  initApp();
}

function doLogout(){
  officer=null;
  document.getElementById('lBadge').value='';
  document.getElementById('lPass').value='';
  document.getElementById('lErr').textContent='';
  document.getElementById('loginScreen').style.display='flex';
  document.getElementById('appScreen').style.display='none';
}

/* â”€â”€â”€ APP INIT â”€â”€â”€ */
function initApp(){
  applyCSS(officer.dept);
  document.getElementById('lBadgeTop').textContent=officer.dept;
  document.getElementById('lTextTop').textContent=officer.dept+' MDT';
  document.getElementById('offInfo').innerHTML=
    officer.dept+' Â· <b>#'+officer.badge+' '+officer.name+'</b> Â· '+officer.rank;
  document.getElementById('sbarOff').textContent=
    officer.rank+' '+officer.name+' #'+officer.badge;
  renderLaws('','');
  renderOfficers();
  populateLawSelect();
  /* Reset to dashboard */
  document.querySelectorAll('.content').forEach(c=>c.classList.remove('active'));
  document.getElementById('page-dashboard').classList.add('active');
  document.querySelectorAll('.nav-btn').forEach((b,i)=>{b.classList.remove('active');if(i===0)b.classList.add('active');});
}

/* â”€â”€â”€ NAVIGATION â€” instant, no transition â”€â”€â”€ */
function nav(id,btn){
  document.querySelectorAll('.content').forEach(c=>c.classList.remove('active'));
  document.getElementById('page-'+id).classList.add('active');
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  if(btn)btn.classList.add('active');
}

/* â”€â”€â”€ LAWS â”€â”€â”€ */
function renderLaws(q,tf){
  let html='';
  for(let ci=0;ci<LAWS.length;ci++){
    const cat=LAWS[ci];
    const list=cat.laws.filter(l=>{
      const mq=!q||l.code.toLowerCase().includes(q)||l.en.toLowerCase().includes(q)||l.cz.toLowerCase().includes(q);
      const mt=!tf||l.type.startsWith(tf);
      return mq&&mt;
    });
    if(!list.length)continue;
    html+=`<div class="law-cat"><div class="lch" onclick="toggleCat(${ci})"><span>${cat.cat}</span><span style="font-family:Inter,sans-serif;font-size:11px;font-weight:500;color:var(--tx3)">${list.length} zÃ¡konÅ¯ â–¾</span></div><div class="lcb" id="cat${ci}"><div class="lhr"><span>Paragraf</span><span>ÄŒeskÃ½ nÃ¡zev</span><span>AnglickÃ½ nÃ¡zev</span><span>Pokuta</span><span>Typ</span></div>`;
    for(let li=0;li<list.length;li++){
      const l=list[li];
      const tc=l.type==='F'?'lt-f':l.type==='M'?'lt-m':l.type==='W'?'lt-w':'lt-i';
      html+=`<div class="lr" onclick="toggleLaw(${ci},${li})"><span class="lc">${l.code}</span><span class="lcz">${l.cz}</span><span class="len">${l.en}</span><span class="lfine">${l.fine}</span><span class="${tc}">${l.type}</span></div><div class="ld" id="ld${ci}-${li}"><div class="ld-title">${l.cz}</div><div class="ld-code">${l.code} Â· ${l.en}</div>${l.desc}<div class="ld-meta"><span>Typ: <b class="${tc}">${l.type==='F'?'Felony â€” ZloÄin':l.type==='M'?'Misdemeanor â€” PÅ™estupek':l.type==='W'?'Wobbler â€” Felony nebo Misdemeanor':'Infraction â€” SprÃ¡vnÃ­ pÅ™estupek'}</b></span><span>Pokuta: <b style="color:var(--yellow2)">${l.fine}</b></span></div><br><button class="btn btn-sm" onclick="event.stopPropagation();insertLaw('${l.code} â€” ${l.cz}')">â†‘ PouÅ¾Ã­t v incidentu</button></div>`;
    }
    html+='</div></div>';
  }
  document.getElementById('lawsContainer').innerHTML=html||'<div style="padding:28px;text-align:center;color:var(--tx3);font-family:Inter,sans-serif;font-size:13px;">Å½Ã¡dnÃ© zÃ¡znamy nenalezeny.</div>';
}

function toggleCat(ci){
  const e=document.getElementById('cat'+ci);
  if(e)e.style.display=e.style.display==='none'?'':'none';
}
function toggleLaw(ci,li){
  const e=document.getElementById('ld'+ci+'-'+li);
  if(e)e.classList.toggle('open');
}
function filterLaws(){
  renderLaws(
    document.getElementById('lawSearch').value.toLowerCase(),
    document.getElementById('lawType').value
  );
}
function insertLaw(val){
  const s=document.getElementById('incidentLaw');
  for(const o of s.options){if(o.value===val){s.value=val;break;}}
  nav('new-incident',document.querySelector('[onclick*="new-incident"]'));
}
function populateLawSelect(){
  const s=document.getElementById('incidentLaw');
  LAWS.forEach(cat=>{
    const og=document.createElement('optgroup');
    og.label=cat.cat;
    cat.laws.forEach(l=>{
      const o=document.createElement('option');
      o.value=`${l.code} â€” ${l.cz}`;
      o.textContent=`${l.code} Â· ${l.cz}`;
      og.appendChild(o);
    });
    s.appendChild(og);
  });
}

/* â”€â”€â”€ OFFICERS â”€â”€â”€ */
function renderOfficers(){
  const db=OFFICERS[officer.dept];
  document.getElementById('officerList').innerHTML=Object.entries(db).map(([b,o])=>
    `<div class="oc"><div class="bn">#${b}</div><div><div class="on">${o.name}</div><div class="or">${o.rank} Â· ${o.shift}</div></div><div class="os ${o.status==='a'?'os-a':o.status==='p'?'os-p':'os-o'}">${o.status==='a'?'10-8 AktivnÃ­':o.status==='p'?'10-7 Pauza':'Offline'}</div></div>`
  ).join('');
}

/* â”€â”€â”€ PERSON FILTER â”€â”€â”€ */
function filterPersons(){
  const q=document.getElementById('personSearch').value.toLowerCase();
  document.querySelectorAll('.person-entry').forEach(c=>
    c.style.display=c.textContent.toLowerCase().includes(q)?'':'none'
  );
}

/* â”€â”€â”€ CLOCK â€” rAF based, no setInterval jank â”€â”€â”€ */
let lastSec=-1;
function clockTick(ts){
  const now=new Date();
  const s=now.getSeconds();
  if(s!==lastSec){
    lastSec=s;
    document.getElementById('clock').textContent=
      String(now.getHours()).padStart(2,'0')+':'+
      String(now.getMinutes()).padStart(2,'0')+':'+
      String(s).padStart(2,'0');
  }
  requestAnimationFrame(clockTick);
}
requestAnimationFrame(clockTick);
</script>
</body>
</html>
